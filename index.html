<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Remove later, Clickadu verification -->
    <meta name="clckd" content="27d598805d7302209df129603cf8ac34" />
    <!-- Remove later, Clickadu verification -->

    <title>METRIX</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <!-- MathJax Configuration -->
    <script type="text/javascript">
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['$$', '$$']],
            },
            svg: { fontCache: 'global' }
        };
    </script>

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>




<body>

    <div class="header">
        <h1>Metrix</h1>
    </div>

    <!-- Top Leaderboard Ad -->
    <div class="top-banner-ad">
        <div class="ad-slot" id="ad-slot-728x90"></div>
    </div>

    <!-- Main container for sidebar and calculator -->
    <div class="main-container">

        <!-- Sidebar -->
        <div class="sidenav">
            <a href="#" onclick="loadCalculator('Percent Change')">Percent Change</a>
            <a href="#" onclick="loadCalculator('ROAS')">ROAS</a>
            <a href="#" onclick="loadCalculator('CPM')">CPM</a>
            <a href="#" onclick="loadCalculator('CPA')">CPA</a>
            <a href="#" onclick="loadCalculator('CPC')">CPC</a>
            <a href="#" onclick="loadCalculator('CTR')">CTR</a>
            <a href="#" onclick="loadCalculator('VCR')">VCR</a>
            <a href="#" onclick="loadCalculator('LTR')">LTR</a>
            <a href="#" onclick="loadCalculator('View Rate')">View Rate</a>
            <a href="#" onclick="loadCalculator('TargetBid')">Target Bid</a>
            <a href="#" onclick="loadCalculator('MarginMarkup')">Margin & Markup</a>
            <a href="#" onclick="loadCalculator('calculatePercentAddition')">Add %</a>
            <a href="#" onclick="loadCalculator('calculatePercentSubtraction')">Subtract %</a>
            <a href="#" onclick="loadCalculator('calculateIndex')">Index</a>
        </div>

        <!-- Calculator container -->
        <div id="calculator-container" class="calculator-container" style="display: none;">
            <h2 id="calculator-title"></h2>
            <form id="calculator-form"></form>
            <div id="result" class="result"></div>
            <div id="custom-text" class="custom-text"></div>
        </div>

        <!-- Ad Column -->
        <div class="ad-column">
            <div class="ad-slot" id="ad-slot-300x250"></div>
            <div class="ad-slot" id="ad-slot-160x600"></div>
            <div class="ad-slot" id="ad-slot-160x300"></div>
            <div class="ad-slot" id="ad-slot-468x60"></div>
        </div>
    </div>

    <script src="script.js"></script>

    <!-- Sticky footer ad for mobile -->
    <div class="ad-slot sticky-footer" id="ad-slot-320x50"></div>

    <script type="text/javascript">
        const adSlots = [
            { id: 'ad-slot-300x250', key: '90b09ebfb759ea63f8e3e872f27804d9', width: 300, height: 250 },
            { id: 'ad-slot-728x90', key: '60218279d99f5ceeda7adba3fdd7c83a', width: 728, height: 90 },
            { id: 'ad-slot-160x600', key: '366f5036c5fb0ef69ca58d126e7f2037', width: 160, height: 600 },
            { id: 'ad-slot-160x300', key: '7618fd98756916fe83ff42377b6019f8', width: 160, height: 300 },
            { id: 'ad-slot-468x60', key: '507dbf7941144ad29e081c012beec202', width: 468, height: 60 },
            { id: 'ad-slot-320x50', key: '8fb363dc734c5f02a2ccef7879c7cf31', width: 320, height: 50 },
        ];

        adSlots.forEach(slot => {
            const container = document.getElementById(slot.id);
            if (!container) return;

            const configScript = document.createElement('script');
            configScript.type = 'text/javascript';
            configScript.innerHTML = `
                atOptions = {
                    'key' : '${slot.key}',
                    'format' : 'iframe',
                    'height' : ${slot.height},
                    'width' : ${slot.width},
                    'params' : {}
                };
            `;
            container.appendChild(configScript);

            const adScript = document.createElement('script');
            adScript.type = 'text/javascript';
            adScript.src = `https://www.highperformanceformat.com/${slot.key}/invoke.js`;
            container.appendChild(adScript);
        });

    </script>


    <script>
        // Refresh each ad every 60 seconds
        setInterval(() => {
            adSlots.forEach(slot => {
                const container = document.getElementById(slot.id);
                if (!container) return;

                // Clear the ad slot contents
                container.innerHTML = '';

                // Re-inject Adsterra config script
                const configScript = document.createElement('script');
                configScript.type = 'text/javascript';
                configScript.innerHTML = `
                    atOptions = {
                        'key' : '${slot.key}',
                        'format' : 'iframe',
                        'height' : ${slot.height},
                        'width' : ${slot.width},
                        'params' : {}
                    };
                `;
                container.appendChild(configScript);

                // Re-inject Adsterra loader script
                const adScript = document.createElement('script');
                adScript.type = 'text/javascript';
                adScript.src = `https://www.highperformanceformat.com/${slot.key}/invoke.js`;
                container.appendChild(adScript);
            });
        }, 60000); // every 60,000 ms = 60 seconds
    </script>











    <script>
        window.addEventListener('DOMContentLoaded', () => {
            loadCalculator('CPM');
        });
    </script>



</body>




</html>